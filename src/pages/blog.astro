---
import { getCollection } from "astro:content";

import BlogIndex from "@/features/blog/BlogIndex";
import BaseLayout from "@/layouts/base.astro";

const posts = await getCollection(
  "posts",
  ({ data }) => process.env.NODE_ENV === "development" || !data.draft,
);
---

<BaseLayout title="Blog" description="A place to gather and sort thoughts.">
  <BlogIndex posts={posts} />
</BaseLayout>
