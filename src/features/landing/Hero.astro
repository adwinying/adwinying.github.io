---
import { getImage } from "astro:assets";

import MenuIcon from "@/components/icons/Menu.astro";
import heroBgImg from "@/features/landing/hero_bg.jpg";
import heroBgMobileImg from "@/features/landing/hero_bg_mobile.jpg";
import { cn } from "@/utils/css";

const [heroBg, heroBgMobile] = await Promise.all([
  getImage({ quality: "high", src: heroBgImg }),
  getImage({ quality: "high", src: heroBgMobileImg }),
]);
---

<header
  style={{
    "--hero-bg-mobile": `url(${heroBgMobile.src})`,
    "--hero-bg": `url(${heroBg.src})`,
  }}
  class={cn(
    "relative flex h-screen items-center",
    "bg-[image:var(--hero-bg-mobile)] bg-cover bg-local bg-center",
    "bg-no-repeat px-3 md:h-[calc(100vh-3.75rem)] md:px-6",
    "min-[800px]:bg-[image:var(--hero-bg)] lg:px-10",
  )}
>
  {/* Hamburger toggle */}
  <button
    type="button"
    class="js-nav-toggle absolute right-5 top-4 w-9 p-2 md:hidden"
  >
    <MenuIcon class="w-full text-white" />
  </button>

  {/* Hero text */}
  <div class="text-[5rem] font-light leading-[5.5rem] text-white">
    <span class="block text-base">Landing page of</span> Adwin Ying
  </div>
</header>
